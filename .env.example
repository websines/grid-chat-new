# Ollama URL for the backend to connect
# The path '/ollama' will be redirected to the specified backend URL
OLLAMA_BASE_URL='http://localhost:11434'

OPENAI_API_BASE_URL=''
OPENAI_API_KEY=''

# AIPowerGrid (AIPG) API key for Grid integrations
# Required for: /api/v1/models/grid, /api/v1/chat/completions/grid, etc.
# Example: AIPG_API_KEY='SRjE7PuHTW1SG4rd_AqYGg'
AIPG_API_KEY='SRjE7PuHTW1SG4rd_AqYGg'

# AUTOMATIC1111_BASE_URL="http://localhost:7860"

# For production, you should only need one host as
# fastapi serves the svelte-kit built frontend and backend from the same host and port.
# To test with CORS locally, you can set something like
# CORS_ALLOW_ORIGIN='http://localhost:5173;http://localhost:8080'
CORS_ALLOW_ORIGIN='*'

# For production you should set this to match the proxy configuration (127.0.0.1)
FORWARDED_ALLOW_IPS='*'

# DO NOT TRACK
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# Allow all base models (OpenAI/Ollama/Grid) to appear in pickers without per-model DB access control entries.
# Useful for development and single-user setups.
BYPASS_MODEL_ACCESS_CONTROL=true

####################################
# AUTHENTIK OPENID CONNECT (OIDC) AUTHENTICATION
####################################

# Enable OAuth/OIDC authentication (set to true to enable external authentication)
ENABLE_OAUTH_SIGNUP=true

# Authentik OAuth2/OIDC Configuration
OAUTH_CLIENT_ID=TOkJqfIVzRii99ydbiXrO2tNqoiYNysymkamGK2p
OAUTH_CLIENT_SECRET=KlFHFt10zbkp3K4AulzPFkvEaz5qS0KjJ9ySzD8m142bQQ1ucIOOn00Bo3Wl3OqKtj0KYAr8xfsbB45a9BL2swomiP7Fm8ggfVgP1JH082STF6yjI
           IlTY4AyhZuyjktM
OAUTH_PROVIDER_NAME=authentik

# OpenID Connect Configuration
OPENID_PROVIDER_URL=http://localhost:9000/application/o/open-webui/.well-known/openid-configuration
OPENID_REDIRECT_URI=http://localhost:8000/oauth/oidc/callback
# Optional: Direct link to Authentik's registration flow (enables "Create account" link)
# OPENID_SIGNUP_URL=https://localhost:9000/if/flow/test-owui/default-source-enrollment/

# Enable OAuth user signup (set to true to allow new user creation)
ENABLE_OAUTH_SIGNUP=true

# Optional: Merge existing accounts by email
OAUTH_MERGE_ACCOUNTS_BY_EMAIL=true

# Optional: Enable role management from Authentik
ENABLE_OAUTH_ROLE_MANAGEMENT=false

# Optional: Enable group management from Authentik
ENABLE_OAUTH_GROUP_MANAGEMENT=false

# Claim mappings (Authentik defaults usually work)
OAUTH_SUB_CLAIM=sub
OAUTH_EMAIL_CLAIM=email
OAUTH_USERNAME_CLAIM=preferred_username
OAUTH_PICTURE_CLAIM=picture

# OAuth Scopes (Authentik typically uses these)
OAUTH_SCOPES="openid email profile"

# PKCE Configuration (recommended for security)
OAUTH_CODE_CHALLENGE_METHOD=S256
